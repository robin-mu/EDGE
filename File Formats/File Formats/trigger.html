<!DOCTYPE html>
<!-- saved from url=(0039)http://will.kirk.by/labs/tt/tt2/trigger -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>trigger | Two Tribes File Formats</title>
  <link href="./trigger_files/bootstrap.min.css" rel="stylesheet">
  <link href="./trigger_files/prettify.css" rel="stylesheet">
  <style>
    pre.prettyprint{
      padding: 9.5px !important;
      border: 1px solid #ccc !important;
    }
  </style>
  <meta name="viewport" content="width=device-width">
<link rel="stylesheet" type="text/css" href="./trigger_files/prettify(1).css"></head>
<body style="">
  <div class="container">
    <h1><small>Toki Tori 2 ~</small> trigger</h1>
    <h3>Particle Emitter</h3>
    <pre class="prettyprint lang-cpp prettyprinted" style=""><span class="com">// all multi-byte types in this file are stored in big-endian</span><span class="pln">
</span><span class="com">// this was presumably written with the WiiU CPU architecture in mind</span><span class="pln">

</span><span class="com">// this documentation was made from the Toki Tori 2 Steam Beta,</span><span class="pln">
</span><span class="com">// and does not match the final release version.</span><span class="pln">
</span><span class="com">// I don't know if I'll find time to upadte this.</span><span class="pln">

</span><span class="kwd">struct</span><span class="pln"> </span><span class="typ">particle_unknown_1_t</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">short</span><span class="pln"> unknown_1</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">short</span><span class="pln"> unknown_2</span><span class="pun">;</span><span class="pln">
    </span><span class="typ">float</span><span class="pln"> unknown_3</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">char</span><span class="pln"> unknown_4</span><span class="pun">;</span><span class="pln">
</span><span class="pun">};</span><span class="pln">

</span><span class="kwd">struct</span><span class="pln"> </span><span class="typ">particle_unknown_2_t</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">unsigned</span><span class="pln"> </span><span class="typ">int</span><span class="pln"> colors</span><span class="pun">[</span><span class="lit">4</span><span class="pun">];</span><span class="pln">
    </span><span class="typ">float</span><span class="pln"> unknown_2</span><span class="pun">;</span><span class="pln">
    </span><span class="typ">float</span><span class="pln"> unknown_3</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">char</span><span class="pln"> unknown_4</span><span class="pun">;</span><span class="pln">
</span><span class="pun">};</span><span class="pln">

</span><span class="kwd">struct</span><span class="pln"> </span><span class="typ">particle_emitter_t</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">short</span><span class="pln"> unknown_1</span><span class="pun">;</span><span class="pln">
    </span><span class="typ">float</span><span class="pln"> unknown_2</span><span class="pun">;</span><span class="pln">
    </span><span class="typ">float</span><span class="pln"> unknown_3</span><span class="pun">;</span><span class="pln">
    </span><span class="typ">float</span><span class="pln"> unknown_4</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">char</span><span class="pln"> unknown_5</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">short</span><span class="pln"> unknown_6</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">short</span><span class="pln"> texture_name_len</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">char</span><span class="pln"> texture_name</span><span class="pun">[</span><span class="pln">texture_name_len</span><span class="pun">];</span><span class="pln">    </span><span class="com">// no null-terminator</span><span class="pln">
    </span><span class="kwd">short</span><span class="pln"> unknown_9</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">short</span><span class="pln"> unknown_11_len</span><span class="pun">;</span><span class="pln">
    </span><span class="typ">particle_unknown_1_t</span><span class="pln"> unknown_11</span><span class="pun">[</span><span class="pln">unknown_11_len</span><span class="pun">];</span><span class="pln">
    </span><span class="kwd">char</span><span class="pln"> unknown_12</span><span class="pun">;</span><span class="pln">
    </span><span class="typ">float</span><span class="pln"> unknown_13</span><span class="pun">;</span><span class="pln">
    </span><span class="typ">float</span><span class="pln"> unknown_14</span><span class="pun">;</span><span class="pln">
    </span><span class="typ">float</span><span class="pln"> accel_x_a</span><span class="pun">;</span><span class="pln">
    </span><span class="typ">float</span><span class="pln"> accel_x_b</span><span class="pun">;</span><span class="pln">
    </span><span class="typ">float</span><span class="pln"> accel_y_a</span><span class="pun">;</span><span class="pln">
    </span><span class="typ">float</span><span class="pln"> accel_y_b</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">char</span><span class="pln"> blendmode</span><span class="pun">;</span><span class="pln">     </span><span class="com">// 0 = alpha, 1 = additive, 2 = subtractive</span><span class="pln">
    </span><span class="kwd">char</span><span class="pln"> unknown_20</span><span class="pun">;</span><span class="pln">
    </span><span class="typ">float</span><span class="pln"> unknown_21</span><span class="pun">;</span><span class="pln">
    </span><span class="typ">float</span><span class="pln"> unknown_22</span><span class="pun">;</span><span class="pln">
    </span><span class="typ">float</span><span class="pln"> unknown_23</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">char</span><span class="pln"> unknown_24</span><span class="pun">;</span><span class="pln">
    </span><span class="typ">float</span><span class="pln"> unknown_25</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">char</span><span class="pln"> unknown_26</span><span class="pun">;</span><span class="pln">
    </span><span class="typ">float</span><span class="pln"> velocity_x_a</span><span class="pun">;</span><span class="pln">
    </span><span class="typ">float</span><span class="pln"> velocity_x_b</span><span class="pun">;</span><span class="pln">
    </span><span class="typ">float</span><span class="pln"> velocity_y_a</span><span class="pun">;</span><span class="pln">
    </span><span class="typ">float</span><span class="pln"> velocity_y_b</span><span class="pun">;</span><span class="pln">
    </span><span class="typ">float</span><span class="pln"> lifespan_a</span><span class="pun">;</span><span class="pln">
    </span><span class="typ">float</span><span class="pln"> lifespan_b</span><span class="pun">;</span><span class="pln">
    </span><span class="typ">float</span><span class="pln"> scale_a</span><span class="pun">;</span><span class="pln">
    </span><span class="typ">float</span><span class="pln"> scale_b</span><span class="pun">;</span><span class="pln">
    </span><span class="typ">float</span><span class="pln"> unknown_35</span><span class="pun">;</span><span class="pln">
    </span><span class="typ">float</span><span class="pln"> unknown_36</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">char</span><span class="pln"> unknown_37</span><span class="pun">;</span><span class="pln">
    </span><span class="typ">float</span><span class="pln"> unknown_38</span><span class="pun">;</span><span class="pln">
    </span><span class="typ">float</span><span class="pln"> unknown_39</span><span class="pun">;</span><span class="pln">
    </span><span class="typ">float</span><span class="pln"> unknown_40</span><span class="pun">;</span><span class="pln">
    </span><span class="typ">float</span><span class="pln"> unknown_41</span><span class="pun">;</span><span class="pln">
    </span><span class="typ">float</span><span class="pln"> unknown_42</span><span class="pun">;</span><span class="pln">
    </span><span class="typ">float</span><span class="pln"> unknown_43</span><span class="pun">;</span><span class="pln">
    </span><span class="typ">float</span><span class="pln"> unknown_44</span><span class="pun">;</span><span class="pln">
    </span><span class="typ">float</span><span class="pln"> unknown_45</span><span class="pun">;</span><span class="pln">
    </span><span class="typ">float</span><span class="pln"> unknown_46</span><span class="pun">;</span><span class="pln">
    </span><span class="typ">float</span><span class="pln"> unknown_47</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">short</span><span class="pln"> unknown_48</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">short</span><span class="pln"> unknown_49</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">char</span><span class="pln"> unknown_50</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">char</span><span class="pln"> has_unknown_52</span><span class="pun">;</span><span class="pln">
    </span><span class="com">// if (unknown_52 != 0)</span><span class="pln">
    </span><span class="typ">particle_unknown_2_t</span><span class="pln"> unknown_52</span><span class="pun">;</span><span class="pln">

    </span><span class="com">// where a variable has _a and _b, the particle gets a value randomly selected between those two.</span><span class="pln">
    </span><span class="com">// for example, a particle's velocity_x would be (velocity_x_a + (rand(0.0, 1.0) * (velocity_x_b - velocity_x_a)))</span><span class="pln">
</span><span class="pun">};</span><span class="pln">

</span><span class="kwd">struct</span><span class="pln"> </span><span class="typ">trigger_file_t</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">unsigned</span><span class="pln"> </span><span class="kwd">char</span><span class="pln"> png_style_header</span><span class="pun">[</span><span class="lit">9</span><span class="pun">];</span><span class="pln">  </span><span class="com">// 89 50 54 52 47 0D 0A 1A 0A</span><span class="pln">
    </span><span class="typ">int</span><span class="pln"> unknown_1</span><span class="pun">;</span><span class="pln">  </span><span class="com">// always 5?</span><span class="pln">
    </span><span class="kwd">short</span><span class="pln"> name_len</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">char</span><span class="pln"> name</span><span class="pun">[</span><span class="pln">name_len</span><span class="pun">];</span><span class="pln">    </span><span class="com">// no null-terminator</span><span class="pln">
    </span><span class="typ">int</span><span class="pln"> unknown_2</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">short</span><span class="pln"> num_emitters</span><span class="pun">;</span><span class="pln">
    </span><span class="typ">particle_emitter_t</span><span class="pln"> emitters</span><span class="pun">[</span><span class="pln">num_emitters</span><span class="pun">];</span><span class="pln">
</span><span class="pun">};</span></pre>
  </div>
  <script src="./trigger_files/jquery.min.js.Download"></script>
  <script src="./trigger_files/bootstrap.min.js.Download"></script>
  <script src="./trigger_files/prettify.js.Download"></script>
  


</body></html>